us = "Touch Glass v0.1.0-PREVIEW ðŸŒ¸ kaz.cx"

/* ==UserStyle==
@name         animixplay.to - Touch Glass
@namespace    kaz.cx
@description  Why touch grass, when you can instead touch glass?
@author       kaz <x@kaz.cx> (https://kaz.cx)
@homepageURL  https://kaz.cx/touch-glass
@supportURL   https://github.com/xrkaz/personal-stylesheets/issues
@updateURL    https://raw.githubusercontent.com/xrkaz/personal-stylesheets/master/css/touch-glass/animixplay.to.user.css
@preprocessor stylus
@version      0.1.0-PREVIEW
@license      WTFPL
===================
@var select cs "Color scheme" {
  "Default*":"csdrk",
  "Miku":"cscyn",
  "Luka":"cspnk",
  "Rin":"csylo",
  "Teto":"csred",
  "Gumi":"csgrn",
  "Kaito":"csblu",
  "Ia":"cslit"
}
@var select bgimg "Background image" {
  "Default*":"bgx0",
  "Custom":"custom",
  "Hatsune Miku":"miku",
  "Background 1":"bgx1",
  "Background 2":"bgx2",
  "Background 3":"bgx3",
  "Background 4":"bgx4",
  "Background 5":"bgx5",
  "Background 6":"bgx6",
  "Background 7":"bgx7",
  "Background 8":"bgx8",
  "Background 9":"bgx9",
  "Background 10":"bgx10"
}
@var text bgurl "Custom image URL (with quotes)" ""https://files.catbox.moe/55r8py.png""
@var select prad "Rounded corners" {
  "None":"0",
  "Default*":"4px"
}
@var checkbox sb "Custom scrollbar" 1
@var checkbox xus "Userstyle attribution" 1
==/UserStyle== */

@-moz-document domain("animixplay.to")
  
  i = !important
  
  // static colors
  c0 = hsl(350, 100%, 88%) // pink
  c1 = hsl(0, 0%, 0%) // black
  c2 = hsl(0, 0%, 100%) // white
  c3 = hsl(300, 100%, 25%) // purple
  c4 = hsl(300, 100%, 50%) // fuchsia
  c5 = hsl(180, 100%, 25%) // teal
  c6 = hsl(180, 100%, 50%) // aqua
  c7 = hsl(60, 100%, 25%) // olive
  c8 = hsl(60, 100%, 50%) // yellow
  c9 = hsl(0, 100%, 25%) // maroon
  c10 = hsl(0, 100%, 50%) // red
  c11 = hsl(120, 100%, 25%) // green
  c12 = hsl(120, 100%, 50%) // lime
  c13 = hsl(240, 100%, 25%) // navy
  c14 = hsl(240, 100%, 50%) // blue
  c15 = hsl(40, 100%, 50%) // orange
  
  // color schemes
  txt = c2
  if cs == "csdrk"
    bg1 = c1
    bg2 = c6
  else if cs == "cspnk"
    bg1 = c3
    bg2 = c4
  else if cs == "cscyn"
    bg1 = c5
    bg2 = c6
  else if cs == "csylo"
    bg1 = c7
    bg2 = c8
  else if cs == "csred"
    bg1 = c9
    bg2 = c10
  else if cs == "csgrn"
    bg1 = c11
    bg2 = c12
  else if cs == "csblu"
    bg1 = c13
    bg2 = c14
  else if cs == "cslit"
    bg1 = c2
    bg2 = darken(c4, 40%)
    txt = c1
    
  // background options
  if bgimg == "bgx0"
    bgsrc = "https://images.unsplash.com/photo-1657215373362-3183c0495f85?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx1"
    bgsrc = "https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx2"
    bgsrc = "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx3"
    bgsrc = "https://images.unsplash.com/photo-1594671581654-cc7ed83167bb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx4"
    bgsrc = "https://images.unsplash.com/photo-1574169208507-84376144848b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx5"
    bgsrc = "https://images.unsplash.com/photo-1491895200222-0fc4a4c35e18?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx6"
    bgsrc = "https://images.unsplash.com/photo-1607499699372-7bb722dff7e2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx7"
    bgsrc = "https://images.unsplash.com/photo-1605478264999-8d1cd66e9c78?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx8"
    bgsrc = "https://images.unsplash.com/photo-1524169113253-c6ba17f68498?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx9"
    bgsrc = "https://images.unsplash.com/photo-1590077211339-724573dc4121?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "bgx10"
    bgsrc = "https://images.unsplash.com/photo-1531761535209-180857e963b9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1920&q=100"
  else if bgimg == "miku"
    //img-custom = "https://files.catbox.moe/yxagrh.jpg"
    bgsrc = "https://files.catbox.moe/k7wjcw.jpg"
  else if bgimg == "custom"
    bgsrc = bgurl

  bg(k)
    background k
  bgc(k)
    background-color k
  c(k)
    color k
  dx()
    display none
  ff(k)
    font-family k
  b(k)
    border k
  br(k)
    border-radius k
  bc(k)
    border-color k
  bcc(k, z)
    background-color k
    color z
  m(k)
    margin k
  p(k)
    padding k
  ts(k)
    text-shadow k
  ft(k)
    filter k
  z(k)
    z-index k
  bf(k)
    backdrop-filter k
  st()
    position sticky
    top 0
  shad()
    //box-shadow 0 1px 3px alpha(black, 0.5)
    //box-shadow alpha(c1, 0.16) 0px 3px 6px, alpha(c1, 0.23) 0px 3px 6px
    box-shadow alpha(c1, 0.12) 0px 1px 3px, alpha(c1, 0.24) 0px 1px 2px
  rad()
    br(prad)
  sharad()
    shad()
    rad()
  uss()
    content us
    ff(monospace)
    font-size 14px
    display block
    animation rainbow 5s infinite
    
  // scrollbar (need to fix)
  if sb
    html
      // chromium
      ::-webkit-scrollbar
        width 15px
      ::-webkit-scrollbar-track
        bgc(bg2)
        b(bg3)
      ::-webkit-scrollbar-thumb
        bgc(bg4)
        br(0)
        &:hover
          bgc(bg6)
      // firefox
      scrollbar-color bg4 bg2
      scrollbar-width auto
      
  body
    bgc(bg1 i)
    background-image url(bgsrc)
    background-size cover
    background-repeat no-repeat
    background-attachment fixed
    background-position center
    
  // navbar
  .floattopsearch
    shad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
  .topmenubtn
    c(txt)
  #homeicon, #homeicon2, #backiconhome, #backicon
    c(txt)
  // logo
  .webtitle
    if cs == "cslit"
      ft(invert(1) hue-rotate(200deg) brightness(2))
  // username
  #usernametop
    c(txt)
      
  // middle
  .middle
    c(txt)
    
  // featured
  #featuredcard
    shad()
    bcc(bg1, txt)
  #featuredtext
    c(txt)
  #featuredNext, #featuredBack
    c(bg2)
  #featuredgenre
    c(txt)
    
  // announcement
  #announcement
    bcc(alpha(bg1, 0.8), txt)
    bf(blur(16px))
    border-top-left-radius prad
    border-top-right-radius prad
    shad()
  #readmorebtn
    bcc(bg1, txt)
    br(0 0 prad prad)
    clip-path inset(0 -5px -5px -5px)
    shad()
    
  // anime categories
  #navtab
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(5px)
  .nav-tabs
    border-bottom none
  .nav-tabs li a
    bcc(bg1, txt)
  .nav-tabs > li > a
    border-bottom none
  #dubbtn a
    border-bottom none i
  .nav-tabs .active a
    margin-top 0
    border none
    bgc(bg2 i)
    
  // schedule button
  #openschedulebtn
    bgc(bg1)
    position relative
    top 12px
    right 5px
    z(1)
    
  // anime population
  .searchresult li, .items li
    shad()
    bgc(bg1)
  .searchresult li:hover, .items li:hover
    bgc(bg1)
  .infotext
    c(txt)
    
  // popular sort
  #resultplace div[style="margin:-10px 10px 15px 20px;padding:2px;background-color:#202020;text-align:center;"]
    bgc(alpha(bg1, 0.8)i)
    sharad()
    bf(blur(16px))
    p(5px i)
    
  // genre sort
  .genretitle
    bg(alpha(bg1, 0.8))
    sharad()
    bf(blur(16px))
    margin 0 10px 15px 20px
  #genresortbtn
    margin-right 10px
    margin-bottom 5px
    padding-top 5px
    bcc(alpha(bg1, 0.8), txt)
    sharad()
    bf(blur(16px))
    
  // player page
  .toppart
    st()
    z(10)
  #playertopmenu
    bg(alpha(bg1, 0.8))
  .subpart
    c(txt)
  .playerpage
    sharad()
    bcc(alpha(bg1, 0.8) i, txt)
    bf(blur(16px))
  #status, #genres
    c(txt)
  .epsavailable
    c(txt)
  #playercountdown
    c(txt)
  #flexbottom
    border-top 1px solid txt
  #animebtn2
    bgc(bg1)
    b(1px solid txt)
  .glyphicon-transfer.glyphicon.proxybtn
    c(txt i)
  // episode buttons
  .btn-primary
    bgc(bg2)
    c(txt)
    bc(bg2)
    
  // anime info page
  #topcover
    shad()
  #songContent
    height unset
    bgc(alpha(bg1, 0.8))
    background-image none
  #panelplace
    sharad()
    bcc(alpha(bg1, 0.8), txt)
    bf(blur(16px))
    p(10px)
    margin-top 10px
  #animepagetitle
    c(txt)
  #showstreambtn
    bgc(bg1)
  #animepagetitle
    bg(alpha(bg1, 0.8))
    bf(blur(16px))
    margin-top 115px
    padding-top 3px
    padding-left 10px
    border-top-left-radius prad
    border-top-right-radius prad
    shad()
  #genres[style="float:unset;font-size:13px;"]
    bg(alpha(bg1, 0.8))
    bf(blur(16px))
    padding-left 10px
    display block
    padding-bottom 10px
    border-bottom-left-radius prad
    border-bottom-right-radius prad
    clip-path inset(0 -5px -5px -5px)
    shad()
  #countwrapper
    sharad()
    bg(alpha(bg1, 0.8))
    bf(blur(16px))
    margin-top 10px
    p(5px 10px 5px 10px)
  #animepagecountdown
    c(txt)
    
  // anime similar
  .quickresult
    bgc(transparent)
  .recreason
    bgc(bg1)
    b(1px solid txt)
  .quickresult li:hover
    bgc(bg1)
    
  // anime infobox
  #animeleftside
    c(txt)
    
  // anime list page
  #listplace
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(20px)
  #legendall
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(20px)
    c(txt)
    margin-top 10px
    margin-bottom 20px
  div[style="padding-left:20px;margin-bottom:5px;font-size:14px;"]
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(20px i)
    padding-top 5px i
    padding-bottom 10px i
    margin-left 20px
    margin-bottom 10px i
  #alphabetical
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(5px)
    margin-left 20px
    
  // series page
  .flexserieslist
    border-bottom 0
    bg(bg1)
    sharad()
    p(10px)
  .infouserlist
    c(txt)
  .seriestimeinfo
    c(txt i)
  #seriespanel
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    
  // user page
  #userconfirmcheck
    position relative
    top 9px
    right 5px
    z(1)
  #notifiaction
    bgc(bg1)
  
  // dialog boxes
  #notifiaction, #reportform, #confdialog
    c(txt)
  #confdialog // prompt if internal player error
    bcc(bg1, txt)
    
  // back to top
  #backtotopbtn
    bcc(alpha(bg1, 0.8), txt)
    sharad()
    
  // accent colors
  a
    c(bg2)
    &:hover
      c(lightness(bg2, 50%))
  .name
    c(bg2)
  #openschedulebtn
    c(bg2)
  #genres a
    c(bg2)
  #showstreambtn
    c(bg2)
  #showrecomendbtn
    c(bg2)
  .loginbtn, .registerbtn, .changepassbtn, #manualtrackbtn, .changeuserbtn, #followbtn, #trackbtn
    c(bg2)
  #iconmenu
    c(bg2)
  .linkpersonal, .linkhome
    c(bg2 i)
  #sharebtn, #openreport, #syncbtn, #screenshotbtn, #widescreenbtn
    c(bg2)
  #reloadbtn, #sandboxbtn
    c(bg2)
  .epsavailable a
    c(bg2)
  #menumobilebtn, #menumobilebtn2, #showsearchbtn, #recomendedclosebtn
    c(bg2)
  .loadindicator
    bgc(bg2)
  .name a
    c(bg2)
  
  // sidebar
  .rightcard
    shad()
  .rightcard:nth-of-type(1)
    border-top-left-radius prad
    border-top-right-radius prad
  #gsignsection
    border-bottom-left-radius prad
    border-bottom-right-radius prad
  .rightcard, .rightcardCenter
    bgc(bg1)
  .rightcard:nth-of-type(4)
    border-top-left-radius prad
    border-top-right-radius prad
  .rightcard:last-child
    br(0 0 prad prad)
  .topanimestats
    c(txt)
  #expandbtn, #expandbtn2
    c(txt)
    
  // selector
  select
    bcc(bg1, txt)
    border 1px solid txt
    border-radius 0
  
  // user panel
  .flexuserlist
    sharad()
    border-bottom 0
    p(10px)
    bgc(bg1)
  
  // schedule
  #playerleftsidebar
    bcc(bg1, txt)
  #schedulenotice
    bgc(bg1)
    b(1px solid txt)
  #coverlight
    bgc(alpha(c1, 0.8))
    bf(blur(16px))
    
  // last watched widget
  #lastwatch
    bcc(bg1, txt)
  #lastwatchclosebtn
    bcc(bg1, txt)
    
  // user panel widget
  #opensidebarbtn
    bcc(bg1, txt)
  #infocard
    c(txt)
    
  // footer
  .leftbottom
    bgc(bg1)
  .customicon
    if cs == "cslit"
      ft(invert(1))
  .footer
    bcc(bg1, txt)
    padding-top 25px
    padding-bottom 25px
  .bottomtext, .leftbottom
    c(txt)
  
  // hide non-essentials
  .leftbottom .floatright .togglelabel, .leftbottom .floatright .switch
    dx()
  #iconmenu .glyphicon-wrench.glyphicon.linkhome
    dx()
  
  // rotating color animation
  @keyframes rainbow
    0%
      c(c3)
      ts(0 0 10px c3)
    10%
      c(c4)
      ts(0 0 10px c4)
    20%
      c(c5)
      ts(0 0 10px c5)
    30%
      c(c6)
      ts(0 0 10px c6)
    40%
      c(c7)
      ts(0 0 10px c7)
    50%
      c(c8)
      ts(0 0 10px c8)
    60%
      c(c9)
      ts(0 0 10px c9)
    70%
      c(c10)
      ts(0 0 10px c10)
    80%
      c(c11)
      ts(0 0 10px c11)
    90%
      c(c12)
      ts(0 0 10px c12)
    100%
      c(c3)
      ts(0 0 10px c3)
  
  // show userstyle attribution
  if xus
    .footer::after
      uss()
      
@-moz-document url-prefix("https://animixplay.to/v1/")
  
  if xus
    #flexstreambottom div[style="flex:1"]::after
      uss()
      bgc(alpha(bg1, 0.8))
      text-align center
      sharad()
      margin-bottom 20px
      p(10px)
      bf(blur(16px))
  
// about page
@-moz-document url-prefix("https://animixplay.to/about.html")
  
  p
    c(txt i)
  p:nth-of-type(2)
    margin-bottom 0
  h3
    c(txt)
    margin-top 0
    margin-bottom 0
  .leftside
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(20px i)
    margin-top 10px
    margin-left 0 i
    
  if xus
    .middle::after
      uss()
      bgc(alpha(bg1, 0.8))
      text-align center
      sharad()
      margin-bottom 10px
      p(10px)
      bf(blur(16px))
      margin-top 10px

// info page
@-moz-document url-prefix("https://animixplay.to/info.html")
  
  body
    c(txt)
  h2
    margin-top 0
  h2, h3
    c(txt)
  body > div
    sharad()
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
    p(20px)
  div > div
    c(txt i)
    
  if xus
    div[style="margin-left: 5px;max-width: 600px;margin: 0 auto;"]::after
      uss()
      text-align center

// bottom message
@-moz-document url-prefix("https://animixplay.to/?p=updates")

  #bottommsg
    sharad()
    margin-right 10px
    margin-top -10px
    p(5px)
    text-align center
    bgc(alpha(bg1, 0.8))
    bf(blur(16px))
  #bottommsg[style="opacity: 0.8;"]
    margin-top 10px
    opacity 1 i
  
